var Me=Object.create;var L=Object.defineProperty,De=Object.defineProperties,Te=Object.getOwnPropertyDescriptor,Fe=Object.getOwnPropertyDescriptors,Le=Object.getOwnPropertyNames,ce=Object.getOwnPropertySymbols,Ke=Object.getPrototypeOf,pe=Object.prototype.hasOwnProperty,We=Object.prototype.propertyIsEnumerable;var de=(e,r,t)=>r in e?L(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,te=(e,r)=>{for(var t in r||(r={}))pe.call(r,t)&&de(e,t,r[t]);if(ce)for(var t of ce(r))We.call(r,t)&&de(e,t,r[t]);return e},me=(e,r)=>De(e,Fe(r));var _e=(e,r)=>{for(var t in r)L(e,t,{get:r[t],enumerable:!0})},ue=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of Le(r))!pe.call(e,s)&&s!==t&&L(e,s,{get:()=>r[s],enumerable:!(o=Te(r,s))||o.enumerable});return e};var S=(e,r,t)=>(t=e!=null?Me(Ke(e)):{},ue(r||!e||!e.__esModule?L(t,"default",{value:e,enumerable:!0}):t,e)),Re=e=>ue(L({},"__esModule",{value:!0}),e);var Ge={};_e(Ge,{Dropdown:()=>Y,MultiSelect:()=>Oe,SelectItem:()=>T,SelectPanel:()=>$});module.exports=Re(Ge);function re(e,{insertAt:r}={}){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}re(`.rmsc{--rmsc-main: #4285f4;--rmsc-hover: #f1f3f5;--rmsc-selected: #e2e6ea;--rmsc-border: #ccc;--rmsc-gray: #aaa;--rmsc-bg: #fff;--rmsc-p: 10px;--rmsc-radius: 4px;--rmsc-h: 38px}.rmsc *{box-sizing:border-box;transition:all .2s ease}.rmsc .gray{color:var(--rmsc-gray)}.rmsc .dropdown-content{position:absolute;z-index:1;top:100%;width:100%;padding-top:8px}.rmsc .dropdown-content .panel-content{overflow:hidden;border-radius:var(--rmsc-radius);background:var(--rmsc-bg);box-shadow:0 0 0 1px #0000001a,0 4px 11px #0000001a}.rmsc .dropdown-container{position:relative;outline:0;background-color:var(--rmsc-bg);border:1px solid var(--rmsc-border);border-radius:var(--rmsc-radius)}.rmsc .dropdown-container[aria-disabled=true]:focus-within{box-shadow:var(--rmsc-gray) 0 0 0 1px;border-color:var(--rmsc-gray)}.rmsc .dropdown-container:focus-within{box-shadow:var(--rmsc-main) 0 0 0 1px;border-color:var(--rmsc-main)}.rmsc .dropdown-heading{position:relative;padding:0 var(--rmsc-p);display:flex;align-items:center;width:100%;height:var(--rmsc-h);cursor:default;outline:0}.rmsc .dropdown-heading .dropdown-heading-value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.rmsc .clear-selected-button{cursor:pointer;background:none;border:0;padding:0;display:flex}.rmsc .options{max-height:260px;overflow-y:auto;margin:0;padding-left:0}.rmsc .options li{list-style:none;margin:0}.rmsc .select-item{box-sizing:border-box;cursor:pointer;display:block;padding:var(--rmsc-p);outline:0}.rmsc .select-item:hover,.rmsc .select-item:focus{background:var(--rmsc-hover)}.rmsc .select-item.selected{background:var(--rmsc-selected)}.rmsc .no-options{padding:var(--rmsc-p);text-align:center;color:var(--rmsc-gray)}.rmsc .search{width:100%;position:relative;border-bottom:1px solid var(--rmsc-border)}.rmsc .search input{background:none;height:var(--rmsc-h);padding:0 var(--rmsc-p);width:100%;outline:0;border:0}.rmsc .search-clear-button{cursor:pointer;position:absolute;top:0;right:0;bottom:0;background:none;border:0;padding:0 calc(var(--rmsc-p) / 2)}.rmsc .search-clear-button [hidden]{display:none}.rmsc .item-renderer{display:flex;align-items:baseline}.rmsc .item-renderer input{margin:0 5px 0 0}.rmsc .item-renderer.disabled{opacity:.5}.rmsc .spinner{animation:rotate 2s linear infinite}.rmsc .spinner .path{stroke:var(--rmsc-border);stroke-width:4px;stroke-linecap:round;animation:dash 1.5s ease-in-out infinite}@keyframes rotate{to{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}
`);var q=S(require("react"));var E=S(require("react")),He={allItemsAreSelected:"All items are selected.",clearSearch:"Clear Search",clearSelected:"Clear Selected",noOptions:"No options",search:"Search",selectAll:"Select All",selectAllFiltered:"Select All (Filtered)",selectSomeItems:"Select...",create:"Create"},Be={value:[],hasSelectAll:!0,className:"multi-select",debounceDuration:200,options:[]},fe=E.default.createContext({}),he=({props:e,children:r})=>{let[t,o]=(0,E.useState)(e.options),s=p=>{var f;return((f=e.overrideStrings)==null?void 0:f[p])||He[p]};return(0,E.useEffect)(()=>{o(e.options)},[e.options]),E.default.createElement(fe.Provider,{value:me(te(te({t:s},Be),e),{options:t,setOptions:o})},r)},I=()=>E.default.useContext(fe);var c=S(require("react"));var H=require("react");function be(e,r){let t=(0,H.useRef)(!1);(0,H.useEffect)(()=>{t.current?e():t.current=!0},r)}var w=require("react"),Ue={when:!0,eventTypes:["keydown"]};function P(e,r,t){let o=(0,w.useMemo)(()=>Array.isArray(e)?e:[e],[e]),s=Object.assign({},Ue,t),{when:p,eventTypes:f}=s,v=(0,w.useRef)(r),{target:a}=s;(0,w.useEffect)(()=>{v.current=r});let u=(0,w.useCallback)(d=>{o.some(i=>d.key===i||d.code===i)&&v.current(d)},[o]);(0,w.useEffect)(()=>{if(p&&typeof window<"u"){let d=a?a.current:window;return f.forEach(i=>{d&&d.addEventListener(i,u)}),()=>{f.forEach(i=>{d&&d.removeEventListener(i,u)})}}},[p,f,o,a,r])}var h={ARROW_DOWN:"ArrowDown",ARROW_UP:"ArrowUp",ENTER:"Enter",ESCAPE:"Escape",SPACE:"Space"};var l=S(require("react"));var ge=(e,r)=>{let t;return function(...o){clearTimeout(t),t=setTimeout(()=>{e.apply(null,o)},r)}};function ve(e,r){return r?e.filter(({label:t,value:o})=>t!=null&&o!=null&&t.toLowerCase().includes(r.toLowerCase())):e}var B=S(require("react")),U=()=>B.default.createElement("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-search-clear-icon gray"},B.default.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.default.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));var K=S(require("react"));var V=S(require("react")),Ve=({checked:e,option:r,onClick:t,disabled:o})=>V.default.createElement("div",{className:`item-renderer ${o&&"disabled"}`},V.default.createElement("input",{type:"checkbox",onChange:t,checked:e,tabIndex:-1,disabled:o}),V.default.createElement("span",null,r.label)),xe=Ve;var $e=({itemRenderer:e=xe,option:r,checked:t,tabIndex:o,disabled:s,onSelectionChanged:p,onClick:f})=>{let v=(0,K.useRef)(),a=i=>{u(),i.preventDefault()},u=()=>{s||p(!t)},d=i=>{u(),f(i)};return P([h.ENTER,h.SPACE],a,{target:v}),K.default.createElement("label",{className:`select-item ${t&&"selected"}`,role:"option","aria-selected":t,tabIndex:o,ref:v},K.default.createElement(e,{option:r,checked:t,onClick:d,disabled:s}))},T=$e;var W=S(require("react"));var je=({options:e,onClick:r,skipIndex:t})=>{let{disabled:o,value:s,onChange:p,ItemRenderer:f}=I(),v=(a,u)=>{o||p(u?[...s,a]:s.filter(d=>d.value!==a.value))};return W.default.createElement(W.default.Fragment,null,e.map((a,u)=>{let d=u+t;return W.default.createElement("li",{key:(a==null?void 0:a.key)||u},W.default.createElement(T,{tabIndex:d,option:a,onSelectionChanged:i=>v(a,i),checked:!!s.find(i=>i.value===a.value),onClick:i=>r(i,d),itemRenderer:f,disabled:a.disabled||o}))}))},Se=je;var Ye=()=>{let{t:e,onChange:r,options:t,setOptions:o,value:s,filterOptions:p,ItemRenderer:f,disabled:v,disableSearch:a,hasSelectAll:u,ClearIcon:d,debounceDuration:i,isCreatable:z,onCreateOption:O}=I(),A=(0,l.useRef)(),x=(0,l.useRef)(),[b,_]=(0,l.useState)(""),[y,G]=(0,l.useState)(t),[C,R]=(0,l.useState)(""),[N,M]=(0,l.useState)(0),J=(0,l.useCallback)(ge(n=>R(n),i),[]),D=(0,l.useMemo)(()=>{let n=0;return a||(n+=1),u&&(n+=1),n},[a,u]),Q={label:e(b?"selectAllFiltered":"selectAll"),value:""},X=n=>{let m=y.filter(k=>!k.disabled).map(k=>k.value);if(n){let Ne=[...s.map(ee=>ee.value),...m];return(p?y:t).filter(ee=>Ne.includes(ee.value))}return s.filter(k=>!m.includes(k.value))},Z=n=>{let m=X(n);r(m)},g=n=>{J(n.target.value),_(n.target.value),M(0)},F=()=>{var n;R(""),_(""),(n=x==null?void 0:x.current)==null||n.focus()},se=n=>M(n),ke=n=>{switch(n.code){case h.ARROW_UP:ae(-1);break;case h.ARROW_DOWN:ae(1);break;default:return}n.stopPropagation(),n.preventDefault()};P([h.ARROW_DOWN,h.ARROW_UP],ke,{target:A});let Ee=()=>{M(0)},le=async()=>{let n={label:b,value:b,__isNew__:!0};O&&(n=await O(b)),o([n,...t]),F(),r([...s,n])},Ie=async()=>p?await p(t,C):ve(t,C),ae=n=>{let m=N+n;m=Math.max(0,m),m=Math.min(m,t.length+Math.max(D-1,0)),M(m)};(0,l.useEffect)(()=>{var n,m;(m=(n=A==null?void 0:A.current)==null?void 0:n.querySelector(`[tabIndex='${N}']`))==null||m.focus()},[N]);let[Ae,Pe]=(0,l.useMemo)(()=>{let n=y.filter(m=>!m.disabled);return[n.every(m=>s.findIndex(k=>k.value===m.value)!==-1),n.length!==0]},[y,s]);(0,l.useEffect)(()=>{Ie().then(G)},[C,t]);let ie=(0,l.useRef)();return P([h.ENTER],le,{target:ie}),l.default.createElement("div",{className:"select-panel",role:"listbox",ref:A},!a&&l.default.createElement("div",{className:"search"},l.default.createElement("input",{placeholder:e("search"),type:"text","aria-describedby":e("search"),onChange:g,onFocus:Ee,value:b,ref:x,tabIndex:0}),l.default.createElement("button",{type:"button",className:"search-clear-button",hidden:!b,onClick:F,"aria-label":e("clearSearch")},d||l.default.createElement(U,null))),l.default.createElement("ul",{className:"options"},u&&Pe&&l.default.createElement(T,{tabIndex:D===1?0:1,checked:Ae,option:Q,onSelectionChanged:Z,onClick:()=>se(1),itemRenderer:f,disabled:v}),y.length?l.default.createElement(Se,{skipIndex:D,options:y,onClick:(n,m)=>se(m)}):z?l.default.createElement("li",{onClick:le,className:"select-item creatable",tabIndex:D===1?0:1,ref:ie},`${e("create")} "${b}"`):l.default.createElement("li",{className:"no-options"},e("noOptions"))))},$=Ye;var oe=S(require("react")),ye=({expanded:e})=>oe.default.createElement("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-heading-dropdown-arrow gray"},oe.default.createElement("path",{d:e?"M18 15 12 9 6 15":"M6 9L12 15 18 9"}));var ne=S(require("react"));var Ce=()=>{let{t:e,value:r,options:t,valueRenderer:o}=I(),s=r.length===0,p=r.length===t.length,f=o&&o(r,t);return s?ne.default.createElement("span",{className:"gray"},f||e("selectSomeItems")):ne.default.createElement("span",null,f||(p?e("allItemsAreSelected"):(()=>r.map(a=>a.label).join(", "))()))};var j=S(require("react")),we=({size:e=24})=>j.default.createElement("span",{style:{width:e,marginRight:"0.2rem"}},j.default.createElement("svg",{width:e,height:e,className:"spinner",viewBox:"0 0 50 50",style:{display:"inline",verticalAlign:"middle"}},j.default.createElement("circle",{cx:"25",cy:"25",r:"20",fill:"none",className:"path"})));var qe=()=>{let{t:e,onMenuToggle:r,ArrowRenderer:t,shouldToggleOnHover:o,isLoading:s,disabled:p,onChange:f,labelledBy:v,value:a,isOpen:u,defaultIsOpen:d,ClearSelectedIcon:i,closeOnChangedValue:z}=I();(0,c.useEffect)(()=>{z&&b(!1)},[a]);let[O,A]=(0,c.useState)(!0),[x,b]=(0,c.useState)(d),[_,y]=(0,c.useState)(!1),G=t||ye,C=(0,c.useRef)();be(()=>{r&&r(x)},[x]),(0,c.useEffect)(()=>{d===void 0&&typeof u=="boolean"&&(A(!1),b(u))},[u]);let R=g=>{var F;["text","button"].includes(g.target.type)&&[h.SPACE,h.ENTER].includes(g.code)||(O&&(g.code===h.ESCAPE?(b(!1),(F=C==null?void 0:C.current)==null||F.focus()):b(!0)),g.preventDefault())};P([h.ENTER,h.ARROW_DOWN,h.SPACE,h.ESCAPE],R,{target:C});let N=g=>{O&&o&&b(g)},M=()=>!_&&y(!0),J=g=>{!g.currentTarget.contains(g.relatedTarget)&&O&&(y(!1),b(!1))},D=()=>N(!0),Q=()=>N(!1),X=()=>{O&&b(s||p?!1:!x)},Z=g=>{g.stopPropagation(),f([]),O&&b(!1)};return c.default.createElement("div",{tabIndex:0,className:"dropdown-container","aria-labelledby":v,"aria-expanded":x,"aria-readonly":!0,"aria-disabled":p,ref:C,onFocus:M,onBlur:J,onMouseEnter:D,onMouseLeave:Q},c.default.createElement("div",{className:"dropdown-heading",onClick:X},c.default.createElement("div",{className:"dropdown-heading-value"},c.default.createElement(Ce,null)),s&&c.default.createElement(we,null),a.length>0&&i!==null&&c.default.createElement("button",{type:"button",className:"clear-selected-button",onClick:Z,disabled:p,"aria-label":e("clearSelected")},i||c.default.createElement(U,null)),c.default.createElement(G,{expanded:x})),x&&c.default.createElement("div",{className:"dropdown-content"},c.default.createElement("div",{className:"panel-content"},c.default.createElement($,null))))},Y=qe;var ze=e=>q.default.createElement(he,{props:e},q.default.createElement("div",{className:`rmsc ${e.className||"multi-select"}`},q.default.createElement(Y,null))),Oe=ze;0&&(module.exports={Dropdown,MultiSelect,SelectItem,SelectPanel});
