{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\michael\\\\Documents\\\\GitHub\\\\TrackIshi\\\\client\\\\src\\\\components\\\\page\\\\school\\\\Option\\\\Mofas.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport domain from \"../../../../util/domain\";\nimport Axios from \"axios\";\nimport Modal from \"react-modal\";\nimport HisMOFAS from \"../../screw/Option/MOFAS\";\nimport { CSVLink } from \"react-csv\";\nimport { MultiSelect } from \"react-multi-select-component\";\nimport emdalist from \"../../../../util/emdalist\";\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"25%\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\",\n    overflow: \"auto\",\n    maxHeight: \"100vh\"\n  }\n};\n\nfunction groupBy(sortingres, property) {\n  let un = sortingres.reduce(function (memo, x) {\n    if (!memo[x[property]]) {\n      memo[x[property]] = [];\n    }\n\n    memo[x[property]].push(x);\n    return memo;\n  }, {});\n  return un;\n}\n\nexport default function Mofas(props) {\n  _s();\n\n  let rararry = new Array();\n\n  for (let i = 0; i < emdalist.length; i++) {\n    rararry.push({\n      lablel: emdalist[i],\n      value: emdalist[i]\n    });\n  }\n\n  let rararryu = new Array({\n    value: \"506\",\n    lablel: \"506\"\n  }, {\n    value: \"509\",\n    lablel: \"509\"\n  }, {\n    value: \"528\",\n    lablel: \"528\"\n  });\n  let rararrym = new Array({\n    value: \"mesima\",\n    lablel: \"משימה\"\n  }, {\n    value: \"taavura\",\n    lablel: \"תעבורה\"\n  }, {\n    value: \"versatili\",\n    lablel: \"ורסטילי\"\n  }, {\n    value: \"ha\",\n    lablel: \"הכשרה\"\n  });\n  let rararryc = new Array();\n\n  for (let i = 0; i < 1000; i++) {\n    rararryc.push({\n      value: i,\n      label: \"\" + i\n    });\n  }\n\n  const [selected, setSelected] = useState(rararry);\n  const [selectedunit, setSelectedunit] = useState(rararryu);\n  const [selectedcourse, setSelectedcourse] = useState(rararryc);\n  const [selectedmaslool, setSelectedmaslool] = useState(rararrym);\n  const [ready, setReady] = useState(false);\n  const [res, setRes] = useState();\n  const [resexport, setresexport] = useState();\n  const [sdarot, setsdarot] = useState();\n  const [resall, setResall] = useState();\n  const [resallo, setResallo] = useState();\n  const [shels, setshels] = useState();\n  const [shelmi, setshelmi] = useState();\n  const [shelmi2, setshelmi2] = useState();\n  const [show, setShow] = useState(false);\n  const [slist, setslist] = useState(new Array());\n  const [slist2, setslist2] = useState(new Array());\n  const [slistunit, setslistunit] = useState(rararryu);\n  const [slistmaslool, setslistmaslool] = useState(rararryc);\n  const [slistcourse, setslistcourse] = useState(rararrym);\n  const [modalIsOpen, setIsOpen] = useState(false);\n\n  function openModal() {\n    setIsOpen(true);\n  }\n\n  function isinselected(emda) {\n    for (let i = 0; i < selected.length; i++) {\n      if (selected[i].value === emda) return true;\n    }\n\n    return false;\n  }\n\n  function afterOpenModal() {}\n\n  function closeModal() {\n    setIsOpen(false);\n  }\n\n  useEffect(() => {\n    let resbeforefilter = resallo;\n    let resafterfilter = resbeforefilter && resbeforefilter.filter(mofa => isinselected(mofa.Emda));\n    if (resbeforefilter && resafterfilter) setResall(resafterfilter);\n\n    if (resallo) {\n      let allr = resallo.filter(mofa => isinselected(mofa.Emda));\n      let sdarotw = new Array();\n      if (allr) for (let i = 0; i < allr.length; i++) {\n        if (!allr[i].IsDeleted) sdarotw.push(allr[i].Emda);\n      }\n      if (sdarotw) sdarotw = [...new Set(sdarotw)];\n      setsdarot(sdarotw);\n    }\n  }, [selected, selectedcourse, selectedmaslool, selectedunit]);\n  useEffect(() => {\n    const getMyPeople = async () => {\n      const allpeopleres = await Axios.get(`${domain}/user/getmypeopleM`);\n      setRes(allpeopleres.data);\n      const allrr = await Axios.get(`${domain}/mofa/getallmyn`);\n      const allrr2 = await Axios.get(`${domain}/mofa/getallmyn`);\n      let resbeforefilter = allrr.data;\n      setResallo(allrr.data);\n      setResall(resbeforefilter.filter(mofa => isinselected(mofa.Emda)));\n      let allrrexport = allrr2.data;\n\n      for (let i = 0; i < allrrexport.length; i++) {\n        if (!allrrexport[i].IsDeleted) {\n          if (allrrexport[i] && !allrrexport[i].מספר_אישי) {\n            allrrexport[i].מספר_אישי = allrrexport[i].sMA;\n          }\n\n          if (allrrexport[i] && !allrrexport[i].שם_פרטי) {\n            allrrexport[i].שם_פרטי = allrrexport[i].sFirstName;\n          }\n\n          if (allrrexport[i] && !allrrexport[i].שם_משפחה) {\n            allrrexport[i].שם_משפחה = allrrexport[i].sLastName;\n          }\n\n          if (allrrexport[i] && !allrrexport[i].קורס) {\n            allrrexport[i].קורס = allrrexport[i].sCourseNo;\n          }\n\n          if (allrrexport[i] && !allrrexport[i].תאריך_מילוי) {\n            let finil = \"DIDNOTDOWANAD\";\n            finil = allrrexport[i] && allrrexport[i].fillDate.substring(0, 10);\n            const month = finil.substring(5, 7);\n            const day = finil.substring(8, 10);\n            const year = finil.substring(0, 4);\n            finil = day + \"/\" + month + \"/\" + year;\n            allrrexport[i].תאריך_מילוי = finil;\n          }\n\n          if (allrrexport[i] && !allrrexport[i].עמדה) {\n            allrrexport[i].עמדה = allrrexport[i].Emda;\n          }\n\n          if (allrrexport[i] && !allrrexport[i].מספר) {\n            allrrexport[i].מספר = allrrexport[i].No;\n          }\n\n          if (allrrexport[i] && !allrrexport[i].מדריך) {\n            allrrexport[i].מדריך = allrrexport[i].MadName;\n          }\n\n          if (allrrexport[i] && !allrrexport[i].יעד_1) {\n            allrrexport[i].יעד_1 = allrrexport[i].X11;\n          }\n\n          if (allrrexport[i] && !allrrexport[i].סטטוס_1) {\n            allrrexport[i].סטטוס_1 = allrrexport[i].X21 ? \"כן\" : \"לא\";\n          }\n\n          if (allrrexport[i] && !allrrexport[i].יעד_2) {\n            allrrexport[i].יעד_2 = allrrexport[i].X12;\n          }\n\n          if (allrrexport[i] && !allrrexport[i].סטטוס_2) {\n            allrrexport[i].סטטוס_2 = allrrexport[i].X22 ? \"כן\" : \"לא\";\n          }\n\n          if (allrrexport[i] && !allrrexport[i].יעד_3) {\n            allrrexport[i].יעד_3 = allrrexport[i].X13;\n          }\n\n          if (allrrexport[i] && !allrrexport[i].סטטוס_3) {\n            allrrexport[i].סטטוס_3 = allrrexport[i].X23 ? \"כן\" : \"לא\";\n          }\n\n          if (allrrexport[i] && !allrrexport[i].למידה) {\n            allrrexport[i].למידה = allrrexport[i] && allrrexport[i].C1;\n          }\n\n          if (allrrexport[i] && !allrrexport[i].תכנון) {\n            allrrexport[i].תכנון = allrrexport[i] && allrrexport[i].C2;\n          }\n\n          if (allrrexport[i] && !allrrexport[i].תפיסה_מרחבית) {\n            allrrexport[i].תפיסה_מרחבית = allrrexport[i] && allrrexport[i].C3;\n          }\n\n          if (allrrexport[i] && !allrrexport[i].חלקש) {\n            allrrexport[i].חלקש = allrrexport[i] && allrrexport[i].C4;\n          }\n\n          if (allrrexport[i] && !allrrexport[i].תקשורת) {\n            allrrexport[i].תקשורת = allrrexport[i] && allrrexport[i].C5;\n          }\n\n          if (allrrexport[i] && !allrrexport[i].עומס) {\n            allrrexport[i].עומס = allrrexport[i] && allrrexport[i].C6;\n          }\n\n          if (allrrexport[i] && !allrrexport[i].קבלת_החלטות) {\n            allrrexport[i].קבלת_החלטות = allrrexport[i] && allrrexport[i].C7;\n          }\n\n          if (allrrexport[i] && !allrrexport[i].הפעלה) {\n            allrrexport[i].הפעלה = allrrexport[i] && allrrexport[i].C8;\n          }\n\n          if (allrrexport[i] && !allrrexport[i].תחקור) {\n            allrrexport[i].תחקור = allrrexport[i] && allrrexport[i].C9;\n          }\n\n          if (allrrexport[i] && !allrrexport[i].ציון_מסכם) {\n            allrrexport[i].ציון_מסכם = allrrexport[i] && allrrexport[i].M1;\n          }\n\n          if (allrrexport[i] && !allrrexport[i].הוגדר_כמבחן) {\n            allrrexport[i].הוגדר_כמבחן = allrrexport[i].isTest ? \"כן\" : \"לא\";\n          }\n\n          if (allrrexport[i] && allrrexport[i].isTest) {\n            if (allrrexport[i] && !allrrexport[i].מעבר_מבחן) {\n              allrrexport[i].מעבר_מבחן = allrrexport[i].isPass ? \"כן\" : \"לא\";\n            }\n          }\n\n          if (allrrexport[i] && !allrrexport[i].שימור_גלישת_טקסט) {\n            allrrexport[i].שימור_גלישת_טקסט = allrrexport[i] && allrrexport[i].M11 && allrrexport[i].M11.split(\"\\n\").join(\" \");\n          }\n\n          if (allrrexport[i] && !allrrexport[i].שיפור_גלישת_טקסט) {\n            allrrexport[i].שיפור_גלישת_טקסט = allrrexport[i] && allrrexport[i].M21 && allrrexport[i].M21.split(\"\\n\").join(\" \");\n          }\n\n          if (allrrexport[i] && !allrrexport[i].סיכום) {\n            allrrexport[i].סיכום = allrrexport[i].Mf;\n          }\n        }\n\n        delete allrrexport[i].sMA;\n        delete allrrexport[i].sFirstName;\n        delete allrrexport[i].sLastName;\n        delete allrrexport[i].sCourseNo;\n        delete allrrexport[i].fillDate;\n        delete allrrexport[i].Emda;\n        delete allrrexport[i].No;\n        delete allrrexport[i].MadName;\n        delete allrrexport[i].X11;\n        delete allrrexport[i].X21;\n        delete allrrexport[i].X12;\n        delete allrrexport[i].X22;\n        delete allrrexport[i].X13;\n        delete allrrexport[i].X23;\n        delete allrrexport[i].C1;\n        delete allrrexport[i].C2;\n        delete allrrexport[i].C3;\n        delete allrrexport[i].C4;\n        delete allrrexport[i].C5;\n        delete allrrexport[i].C6;\n        delete allrrexport[i].C7;\n        delete allrrexport[i].C8;\n        delete allrrexport[i].C9;\n        delete allrrexport[i].M1;\n        delete allrrexport[i].isTest;\n        delete allrrexport[i].isPass;\n        delete allrrexport[i].M11;\n        delete allrrexport[i].M21;\n        delete allrrexport[i].Mf;\n        delete allrrexport[i]._id;\n        delete allrrexport[i].sNickName;\n        delete allrrexport[i].sMaslool;\n        delete allrrexport[i].sUnit;\n        delete allrrexport[i].CrewM;\n        delete allrrexport[i].name;\n        delete allrrexport[i].IsDeleted;\n        delete allrrexport[i].createdAt;\n        delete allrrexport[i].updatedAt;\n        delete allrrexport[i].__v;\n      }\n\n      for (let i = 0; i < allrrexport.length; i++) {\n        if (Object.keys(allrrexport[i]).length < 10) allrrexport.splice(i, 1);\n      }\n\n      setresexport(allrrexport);\n      setResall(allrr);\n      let array = slist;\n      let all = new Array();\n\n      for (let i = 0; i < allpeopleres.data.length; i++) {\n        const o = await Axios.get(`${domain}/mofa/getallhis/${allpeopleres.data[i].MA}`);\n        let sortingres = o.data;\n\n        for (let i = 0; i < sortingres.length; i++) {\n          let exists = false;\n\n          for (let j = 0; j < slist.length; j++) if (slist[j].value === sortingres[i].Emda) exists = true;\n\n          if (!exists) {\n            array.push({\n              label: sortingres[i].Emda,\n              value: sortingres[i].Emda\n            });\n          }\n\n          setslist(array);\n          let newarray = new Array();\n\n          for (let i = 0; i < emdalist.length; i++) {\n            newarray.push({\n              label: emdalist[i],\n              value: emdalist[i]\n            });\n          }\n\n          setslist2(newarray);\n        }\n\n        let grouped = groupBy(sortingres, \"Emda\"); // => {orange:[...], banana:[...]}\n\n        var result = Object.keys(grouped).map(key => [Number(key), grouped[key]]);\n\n        for (let i = 0; i < result.length; i++) {\n          {\n            let array = result[i][1];\n            array.sort(function (a, b) {\n              return a.No - b.No;\n            });\n            let summ1 = 0;\n            let sumc1 = 0;\n            let sumc2 = 0;\n            let sumc3 = 0;\n            let sumc4 = 0;\n            let sumc5 = 0;\n            let sumc6 = 0;\n            let sumc7 = 0;\n            let sumc8 = 0;\n            let sumc9 = 0;\n\n            for (let j = 0; j < array.length; j++) {\n              summ1 = summ1 + array[j].M1;\n              sumc1 = sumc1 + array[j].C1;\n              sumc2 = sumc2 + array[j].C2;\n              sumc3 = sumc3 + array[j].C3;\n              sumc4 = sumc4 + array[j].C4;\n              sumc5 = sumc5 + array[j].C5;\n              sumc6 = sumc6 + array[j].C6;\n              sumc7 = sumc7 + array[j].C7;\n              sumc8 = sumc8 + array[j].C8;\n              sumc9 = sumc9 + array[j].C9;\n              array[0].avgm1 = Math.round(summ1 / array.length * 100) / 100;\n              array[0].avgc1 = Math.round(sumc1 / array.length * 100) / 100;\n              array[0].avgc2 = Math.round(sumc2 / array.length * 100) / 100;\n              array[0].avgc3 = Math.round(sumc3 / array.length * 100) / 100;\n              array[0].avgc4 = Math.round(sumc4 / array.length * 100) / 100;\n              array[0].avgc5 = Math.round(sumc5 / array.length * 100) / 100;\n              array[0].avgc6 = Math.round(sumc6 / array.length * 100) / 100;\n              array[0].avgc7 = Math.round(sumc7 / array.length * 100) / 100;\n              array[0].avgc8 = Math.round(sumc8 / array.length * 100) / 100;\n              array[0].avgc9 = Math.round(sumc9 / array.length * 100) / 100;\n            }\n\n            result[i][1] = array;\n          }\n        }\n\n        all.push(result);\n      }\n\n      setResall(all);\n      let shelst = new Array(...allpeopleres.data);\n      setshels(shelst);\n      if (!ready) setReady(true);\n    };\n\n    if (!ready) getMyPeople();\n  }, []);\n  let k;\n  if (resallo) if (resallo[0]) k = resallo[0];\n  let resi;\n  if (res && resall && resall.length > 0 && sdarot && k) resi = res.map((screw, i) => sdarot.map((sidra, j) => resall[i] && resall[i].length && resall[i].map(data => data[1][0].Emda === sidra && data[1][0].avgm1)));\n  let rs1 = new Array();\n  let flagsarrayB = new Array();\n  if (resi) for (let i = 0; i < resi.length; i++) {\n    let flagsarray = new Array();\n\n    for (let j = 0; j < resi[i].length; j++) {\n      let flag = false;\n      if (resi[i][j]) for (let k = 0; k < resi[i][j].length; k++) if (resi[i][j][k]) flag = true;\n      flagsarray.push(flag);\n      if (!flag) resi[i][j] && resi[i][j].splice(j, 2);\n    }\n\n    flagsarrayB.push(flagsarray);\n  }\n  let mewresi = new Array();\n  if (resi) for (let i = 0; i < resi.length; i++) {\n    let arrw = new Array();\n\n    for (let j = 0; j < resi[i].length; j++) if (flagsarrayB[i][j]) arrw.push(resi[i][j]);\n\n    mewresi.push(arrw);\n  }\n  if (mewresi) for (let i = 0; i < mewresi.length; i++) {\n    let newArray = new Array();\n\n    for (let j = 0; j < mewresi[i].length; j++) for (let k = 0; k < mewresi[i][j].length; k++) if (mewresi[i][j][k]) newArray.push(mewresi[i][j][k]);\n\n    rs1.push(newArray);\n  }\n  return ready ? k ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col\",\n    children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 9\n    }, this), \" \", /*#__PURE__*/_jsxDEV(CSVLink, {\n      data: resexport,\n      children: [\" \", \"\\u05D9\\u05D9\\u05E6\\u05D0 \\u05D0\\u05EA \\u05DB\\u05DC \\u05DE\\u05D5\\u05E4\\u05E2\\u05D9 \\u05D4\\u05D4\\u05D3\\u05E8\\u05DB\\u05D4 \\u05E9\\u05DC \\u05D4\\u05D0\\u05E0\\u05E9\\u05D9\\u05DD \\u05E9\\u05DC\\u05D9 \\u2B07\\uFE0F\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 9\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        fontWeight: \"bold\"\n      },\n      children: \"\\u05E1\\u05D9\\u05E0\\u05D5\\u05DF \\u05DC\\u05E4\\u05D9 \\u05E1\\u05D3\\u05E8\\u05D4:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 9\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(MultiSelect, {\n        options: slist2,\n        value: selected,\n        onChange: setSelected,\n        labelledBy: \"Select\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {},\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"inline-block\",\n          width: \"30%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"center\",\n            fontWeight: \"bold\"\n          },\n          children: \"\\u05E1\\u05D9\\u05E0\\u05D5\\u05DF \\u05DC\\u05E4\\u05D9 \\u05E7\\u05D5\\u05E8\\u05E1:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(MultiSelect, {\n            options: slistcourse,\n            value: selectedcourse,\n            onChange: setSelectedcourse,\n            labelledBy: \"Select\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"inline-block\",\n          width: \"5%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"inline-block\",\n          width: \"30%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"center\",\n            fontWeight: \"bold\"\n          },\n          children: \"\\u05E1\\u05D9\\u05E0\\u05D5\\u05DF \\u05DC\\u05E4\\u05D9 \\u05DE\\u05E1\\u05DC\\u05D5\\u05DC:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(MultiSelect, {\n            options: slistmaslool,\n            value: selectedmaslool,\n            onChange: setSelectedmaslool,\n            labelledBy: \"Select\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"inline-block\",\n          width: \"5%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"inline-block\",\n          width: \"30%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"center\",\n            fontWeight: \"bold\"\n          },\n          children: \"\\u05E1\\u05D9\\u05E0\\u05D5\\u05DF \\u05DC\\u05E4\\u05D9 \\u05D9\\u05D7\\u05D9\\u05D3\\u05D4:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(MultiSelect, {\n            options: slistunit,\n            value: selectedunit,\n            onChange: setSelectedunit,\n            labelledBy: \"Select\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: modalIsOpen,\n      onAfterOpen: afterOpenModal,\n      onRequestClose: closeModal,\n      style: customStyles,\n      contentLabel: \"Example Modal\",\n      children: /*#__PURE__*/_jsxDEV(HisMOFAS, {\n        shel: shelmi,\n        h: shelmi2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 493,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mofastable\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"table\", {\n        children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                border: \"1px solid gray\",\n                padding: \"11px\",\n                backgroundColor: \"unset\"\n              },\n              children: \"\\u05E8\\u05E9\\u05D9\\u05DE\\u05EA \\u05D4\\u05D0\\u05E0\\u05E9\\u05D9\\u05DD \\u05E9\\u05DC\\u05D9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 17\n            }, this), sdarot && sdarot.length > 0 && sdarot.map(sidra => /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                border: \"1px solid gray\",\n                padding: \"11px\",\n                backgroundColor: \"unset\",\n                width: \"10000px\"\n              },\n              children: sidra\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 15\n          }, this), res.map((screw, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"tdbutton\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"OpinionOpen2\",\n                onClick: () => {\n                  openModal();\n                  setshelmi(screw.MA);\n                  setshelmi2(screw);\n                },\n                children: screw.NickName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 534,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 19\n            }, this), sdarot && sdarot.lengtn > 0 && sdarot.map((sidra, j) => /*#__PURE__*/_jsxDEV(\"td\", {\n              onMouseOver: () => {\n                setShow([...Array(resall.length).keys()].map(x => x === j ? true : false));\n              },\n              onMouseLeave: () => {\n                setShow(false);\n              },\n              style: {\n                border: \"1px solid gray\",\n                padding: \"11px\",\n                backgroundColor: \"unset\",\n                textAlign: \"center\"\n              },\n              children: resall[i].map(data => data[1][0].Emda === sidra ? /*#__PURE__*/_jsxDEV(\"span\", {\n                children: data[1][0].avgm1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 568,\n                columnNumber: 29\n              }, this) : \"\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 23\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 9\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 621,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 622,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 623,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 624,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 625,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 626,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 627,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 628,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 629,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 630,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 631,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 632,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 633,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 634,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 635,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 419,\n    columnNumber: 7\n  }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n    children: \"-\\u05D0\\u05D9\\u05DF \\u05DC\\u05D0\\u05E0\\u05E9\\u05D9\\u05D9 \\u05DE\\u05D5\\u05E4\\u05E2\\u05D9 \\u05D4\\u05D3\\u05E8\\u05DB\\u05D4-\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 638,\n    columnNumber: 7\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"\\u05D8\\u05D5\\u05E2\\u05DF \\u05D0\\u05EA \\u05DB\\u05DC \\u05D4\\u05D0\\u05E0\\u05E9\\u05D9\\u05DD \\u05E9\\u05DC\\u05DA \\u05DE\\u05D4\\u05E9\\u05E8\\u05EA... (\\u05D0\\u05DD \\u05D0\\u05EA\\u05D4 \\u05DE\\u05E1\\u05E4\\u05D9\\u05E7 \\u05DC\\u05E7\\u05E8\\u05D5\\u05D0 \\u05D0\\u05EA \\u05D4\\u05D4\\u05D5\\u05D3\\u05E2\\u05D4 \\u05D4\\u05D6\\u05D0\\u05EA \\u05D0\\u05D6 \\u05D9\\u05D9\\u05EA\\u05DB\\u05DF \\u05E9\\u05D9\\u05E9 \\u05EA\\u05E7\\u05DC\\u05D4 \\u05D1\\u05E9\\u05E8\\u05EA \\u05D0\\u05D5 \\u05D1\\u05EA\\u05E7\\u05E9\\u05D5\\u05E8\\u05EA \\u05D0\\u05D9\\u05EA\\u05D5)\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 641,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Mofas, \"LV87iZvGp25U3YgbuNc/xWK/RWE=\");\n\n_c = Mofas;\n\nvar _c;\n\n$RefreshReg$(_c, \"Mofas\");","map":{"version":3,"sources":["C:/Users/michael/Documents/GitHub/TrackIshi/client/src/components/page/school/Option/Mofas.js"],"names":["React","useEffect","useState","domain","Axios","Modal","HisMOFAS","CSVLink","MultiSelect","emdalist","customStyles","content","top","left","right","bottom","marginRight","transform","overflow","maxHeight","groupBy","sortingres","property","un","reduce","memo","x","push","Mofas","props","rararry","Array","i","length","lablel","value","rararryu","rararrym","rararryc","label","selected","setSelected","selectedunit","setSelectedunit","selectedcourse","setSelectedcourse","selectedmaslool","setSelectedmaslool","ready","setReady","res","setRes","resexport","setresexport","sdarot","setsdarot","resall","setResall","resallo","setResallo","shels","setshels","shelmi","setshelmi","shelmi2","setshelmi2","show","setShow","slist","setslist","slist2","setslist2","slistunit","setslistunit","slistmaslool","setslistmaslool","slistcourse","setslistcourse","modalIsOpen","setIsOpen","openModal","isinselected","emda","afterOpenModal","closeModal","resbeforefilter","resafterfilter","filter","mofa","Emda","allr","sdarotw","IsDeleted","Set","getMyPeople","allpeopleres","get","data","allrr","allrr2","allrrexport","מספר_אישי","sMA","שם_פרטי","sFirstName","שם_משפחה","sLastName","קורס","sCourseNo","תאריך_מילוי","finil","fillDate","substring","month","day","year","עמדה","מספר","No","מדריך","MadName","יעד_1","X11","סטטוס_1","X21","יעד_2","X12","סטטוס_2","X22","יעד_3","X13","סטטוס_3","X23","למידה","C1","תכנון","C2","תפיסה_מרחבית","C3","חלקש","C4","תקשורת","C5","עומס","C6","קבלת_החלטות","C7","הפעלה","C8","תחקור","C9","ציון_מסכם","M1","הוגדר_כמבחן","isTest","מעבר_מבחן","isPass","שימור_גלישת_טקסט","M11","split","join","שיפור_גלישת_טקסט","M21","סיכום","Mf","_id","sNickName","sMaslool","sUnit","CrewM","name","createdAt","updatedAt","__v","Object","keys","splice","array","all","o","MA","exists","j","newarray","grouped","result","map","key","Number","sort","a","b","summ1","sumc1","sumc2","sumc3","sumc4","sumc5","sumc6","sumc7","sumc8","sumc9","avgm1","Math","round","avgc1","avgc2","avgc3","avgc4","avgc5","avgc6","avgc7","avgc8","avgc9","shelst","k","resi","screw","sidra","rs1","flagsarrayB","flagsarray","flag","mewresi","arrw","newArray","textAlign","fontWeight","display","width","border","padding","backgroundColor","NickName","lengtn"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport domain from \"../../../../util/domain\";\nimport Axios from \"axios\";\nimport Modal from \"react-modal\";\nimport HisMOFAS from \"../../screw/Option/MOFAS\";\nimport { CSVLink } from \"react-csv\";\nimport { MultiSelect } from \"react-multi-select-component\";\nimport emdalist from \"../../../../util/emdalist\";\n\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"25%\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\",\n    overflow: \"auto\",\n    maxHeight: \"100vh\",\n  },\n};\n\nfunction groupBy(sortingres, property) {\n  let un = sortingres.reduce(function (memo, x) {\n    if (!memo[x[property]]) {\n      memo[x[property]] = [];\n    }\n    memo[x[property]].push(x);\n    return memo;\n  }, {});\n  return un;\n}\n\nexport default function Mofas(props) {\n  let rararry = new Array();\n  for (let i = 0; i < emdalist.length; i++) {\n    rararry.push({ lablel: emdalist[i], value: emdalist[i] });\n  }\n\n  let rararryu = new Array(\n    { value: \"506\", lablel: \"506\" },\n    { value: \"509\", lablel: \"509\" },\n    { value: \"528\", lablel: \"528\" }\n  );\n  let rararrym = new Array(\n    { value: \"mesima\", lablel: \"משימה\" },\n    { value: \"taavura\", lablel: \"תעבורה\" },\n    { value: \"versatili\", lablel: \"ורסטילי\" },\n    { value: \"ha\", lablel: \"הכשרה\" }\n  );\n  let rararryc = new Array();\n  for (let i = 0; i < 1000; i++) {\n    rararryc.push({ value: i, label: \"\" + i });\n  }\n\n  const [selected, setSelected] = useState(rararry);\n  const [selectedunit, setSelectedunit] = useState(rararryu);\n  const [selectedcourse, setSelectedcourse] = useState(rararryc);\n  const [selectedmaslool, setSelectedmaslool] = useState(rararrym);\n\n  const [ready, setReady] = useState(false);\n  const [res, setRes] = useState();\n  const [resexport, setresexport] = useState();\n  const [sdarot, setsdarot] = useState();\n  const [resall, setResall] = useState();\n  const [resallo, setResallo] = useState();\n  const [shels, setshels] = useState();\n  const [shelmi, setshelmi] = useState();\n  const [shelmi2, setshelmi2] = useState();\n\n  const [show, setShow] = useState(false);\n\n  const [slist, setslist] = useState(new Array());\n  const [slist2, setslist2] = useState(new Array());\n  const [slistunit, setslistunit] = useState(rararryu);\n  const [slistmaslool, setslistmaslool] = useState(rararryc);\n  const [slistcourse, setslistcourse] = useState(rararrym);\n\n  const [modalIsOpen, setIsOpen] = useState(false);\n\n  function openModal() {\n    setIsOpen(true);\n  }\n\n  function isinselected(emda) {\n    for (let i = 0; i < selected.length; i++) {\n      if (selected[i].value === emda) return true;\n    }\n    return false;\n  }\n\n  function afterOpenModal() {}\n\n  function closeModal() {\n    setIsOpen(false);\n  }\n\n  useEffect(() => {\n    let resbeforefilter = resallo;\n    let resafterfilter =\n      resbeforefilter &&\n      resbeforefilter.filter((mofa) => isinselected(mofa.Emda));\n    if (resbeforefilter && resafterfilter) setResall(resafterfilter);\n    if (resallo) {\n      let allr = resallo.filter((mofa) => isinselected(mofa.Emda));\n      let sdarotw = new Array();\n      if (allr)\n        for (let i = 0; i < allr.length; i++) {\n          if (!allr[i].IsDeleted) sdarotw.push(allr[i].Emda);\n        }\n      if (sdarotw) sdarotw = [...new Set(sdarotw)];\n      setsdarot(sdarotw);\n    }\n  }, [selected, selectedcourse, selectedmaslool, selectedunit]);\n\n  useEffect(() => {\n    const getMyPeople = async () => {\n      const allpeopleres = await Axios.get(`${domain}/user/getmypeopleM`);\n      setRes(allpeopleres.data);\n      const allrr = await Axios.get(`${domain}/mofa/getallmyn`);\n      const allrr2 = await Axios.get(`${domain}/mofa/getallmyn`);\n      let resbeforefilter = allrr.data;\n      setResallo(allrr.data);\n      setResall(resbeforefilter.filter((mofa) => isinselected(mofa.Emda)));\n      let allrrexport = allrr2.data;\n\n      for (let i = 0; i < allrrexport.length; i++) {\n        if (!allrrexport[i].IsDeleted) {\n          if (allrrexport[i] && !allrrexport[i].מספר_אישי) {\n            allrrexport[i].מספר_אישי = allrrexport[i].sMA;\n          }\n          if (allrrexport[i] && !allrrexport[i].שם_פרטי) {\n            allrrexport[i].שם_פרטי = allrrexport[i].sFirstName;\n          }\n          if (allrrexport[i] && !allrrexport[i].שם_משפחה) {\n            allrrexport[i].שם_משפחה = allrrexport[i].sLastName;\n          }\n          if (allrrexport[i] && !allrrexport[i].קורס) {\n            allrrexport[i].קורס = allrrexport[i].sCourseNo;\n          }\n          if (allrrexport[i] && !allrrexport[i].תאריך_מילוי) {\n            let finil = \"DIDNOTDOWANAD\";\n            finil = allrrexport[i] && allrrexport[i].fillDate.substring(0, 10);\n            const month = finil.substring(5, 7);\n            const day = finil.substring(8, 10);\n            const year = finil.substring(0, 4);\n            finil = day + \"/\" + month + \"/\" + year;\n            allrrexport[i].תאריך_מילוי = finil;\n          }\n          if (allrrexport[i] && !allrrexport[i].עמדה) {\n            allrrexport[i].עמדה = allrrexport[i].Emda;\n          }\n          if (allrrexport[i] && !allrrexport[i].מספר) {\n            allrrexport[i].מספר = allrrexport[i].No;\n          }\n          if (allrrexport[i] && !allrrexport[i].מדריך) {\n            allrrexport[i].מדריך = allrrexport[i].MadName;\n          }\n          if (allrrexport[i] && !allrrexport[i].יעד_1) {\n            allrrexport[i].יעד_1 = allrrexport[i].X11;\n          }\n          if (allrrexport[i] && !allrrexport[i].סטטוס_1) {\n            allrrexport[i].סטטוס_1 = allrrexport[i].X21 ? \"כן\" : \"לא\";\n          }\n          if (allrrexport[i] && !allrrexport[i].יעד_2) {\n            allrrexport[i].יעד_2 = allrrexport[i].X12;\n          }\n          if (allrrexport[i] && !allrrexport[i].סטטוס_2) {\n            allrrexport[i].סטטוס_2 = allrrexport[i].X22 ? \"כן\" : \"לא\";\n          }\n          if (allrrexport[i] && !allrrexport[i].יעד_3) {\n            allrrexport[i].יעד_3 = allrrexport[i].X13;\n          }\n          if (allrrexport[i] && !allrrexport[i].סטטוס_3) {\n            allrrexport[i].סטטוס_3 = allrrexport[i].X23 ? \"כן\" : \"לא\";\n          }\n          if (allrrexport[i] && !allrrexport[i].למידה) {\n            allrrexport[i].למידה = allrrexport[i] && allrrexport[i].C1;\n          }\n          if (allrrexport[i] && !allrrexport[i].תכנון) {\n            allrrexport[i].תכנון = allrrexport[i] && allrrexport[i].C2;\n          }\n          if (allrrexport[i] && !allrrexport[i].תפיסה_מרחבית) {\n            allrrexport[i].תפיסה_מרחבית = allrrexport[i] && allrrexport[i].C3;\n          }\n          if (allrrexport[i] && !allrrexport[i].חלקש) {\n            allrrexport[i].חלקש = allrrexport[i] && allrrexport[i].C4;\n          }\n          if (allrrexport[i] && !allrrexport[i].תקשורת) {\n            allrrexport[i].תקשורת = allrrexport[i] && allrrexport[i].C5;\n          }\n          if (allrrexport[i] && !allrrexport[i].עומס) {\n            allrrexport[i].עומס = allrrexport[i] && allrrexport[i].C6;\n          }\n          if (allrrexport[i] && !allrrexport[i].קבלת_החלטות) {\n            allrrexport[i].קבלת_החלטות = allrrexport[i] && allrrexport[i].C7;\n          }\n          if (allrrexport[i] && !allrrexport[i].הפעלה) {\n            allrrexport[i].הפעלה = allrrexport[i] && allrrexport[i].C8;\n          }\n          if (allrrexport[i] && !allrrexport[i].תחקור) {\n            allrrexport[i].תחקור = allrrexport[i] && allrrexport[i].C9;\n          }\n          if (allrrexport[i] && !allrrexport[i].ציון_מסכם) {\n            allrrexport[i].ציון_מסכם = allrrexport[i] && allrrexport[i].M1;\n          }\n          if (allrrexport[i] && !allrrexport[i].הוגדר_כמבחן) {\n            allrrexport[i].הוגדר_כמבחן = allrrexport[i].isTest ? \"כן\" : \"לא\";\n          }\n          if (allrrexport[i] && allrrexport[i].isTest) {\n            if (allrrexport[i] && !allrrexport[i].מעבר_מבחן) {\n              allrrexport[i].מעבר_מבחן = allrrexport[i].isPass ? \"כן\" : \"לא\";\n            }\n          }\n\n          if (allrrexport[i] && !allrrexport[i].שימור_גלישת_טקסט) {\n            allrrexport[i].שימור_גלישת_טקסט =\n              allrrexport[i] &&\n              allrrexport[i].M11 &&\n              allrrexport[i].M11.split(\"\\n\").join(\" \");\n          }\n          if (allrrexport[i] && !allrrexport[i].שיפור_גלישת_טקסט) {\n            allrrexport[i].שיפור_גלישת_טקסט =\n              allrrexport[i] &&\n              allrrexport[i].M21 &&\n              allrrexport[i].M21.split(\"\\n\").join(\" \");\n          }\n          if (allrrexport[i] && !allrrexport[i].סיכום) {\n            allrrexport[i].סיכום = allrrexport[i].Mf;\n          }\n        }\n        delete allrrexport[i].sMA;\n        delete allrrexport[i].sFirstName;\n        delete allrrexport[i].sLastName;\n        delete allrrexport[i].sCourseNo;\n        delete allrrexport[i].fillDate;\n        delete allrrexport[i].Emda;\n        delete allrrexport[i].No;\n        delete allrrexport[i].MadName;\n        delete allrrexport[i].X11;\n        delete allrrexport[i].X21;\n        delete allrrexport[i].X12;\n        delete allrrexport[i].X22;\n        delete allrrexport[i].X13;\n        delete allrrexport[i].X23;\n        delete allrrexport[i].C1;\n        delete allrrexport[i].C2;\n        delete allrrexport[i].C3;\n        delete allrrexport[i].C4;\n        delete allrrexport[i].C5;\n        delete allrrexport[i].C6;\n        delete allrrexport[i].C7;\n        delete allrrexport[i].C8;\n        delete allrrexport[i].C9;\n        delete allrrexport[i].M1;\n        delete allrrexport[i].isTest;\n        delete allrrexport[i].isPass;\n        delete allrrexport[i].M11;\n        delete allrrexport[i].M21;\n        delete allrrexport[i].Mf;\n        delete allrrexport[i]._id;\n        delete allrrexport[i].sNickName;\n        delete allrrexport[i].sMaslool;\n        delete allrrexport[i].sUnit;\n        delete allrrexport[i].CrewM;\n        delete allrrexport[i].name;\n        delete allrrexport[i].IsDeleted;\n        delete allrrexport[i].createdAt;\n        delete allrrexport[i].updatedAt;\n        delete allrrexport[i].__v;\n      }\n\n      for (let i = 0; i < allrrexport.length; i++) {\n        if (Object.keys(allrrexport[i]).length < 10) allrrexport.splice(i, 1);\n      }\n\n      setresexport(allrrexport);\n\n      setResall(allrr);\n      let array = slist;\n      let all = new Array();\n      for (let i = 0; i < allpeopleres.data.length; i++) {\n        const o = await Axios.get(\n          `${domain}/mofa/getallhis/${allpeopleres.data[i].MA}`\n        );\n        let sortingres = o.data;\n\n        for (let i = 0; i < sortingres.length; i++) {\n          let exists = false;\n          for (let j = 0; j < slist.length; j++)\n            if (slist[j].value === sortingres[i].Emda) exists = true;\n          if (!exists) {\n            array.push({\n              label: sortingres[i].Emda,\n              value: sortingres[i].Emda,\n            });\n          }\n\n          setslist(array);\n          let newarray = new Array();\n          for (let i = 0; i < emdalist.length; i++) {\n            newarray.push({\n              label: emdalist[i],\n              value: emdalist[i],\n            });\n          }\n          setslist2(newarray);\n        }\n\n        let grouped = groupBy(sortingres, \"Emda\"); // => {orange:[...], banana:[...]}\n        var result = Object.keys(grouped).map((key) => [\n          Number(key),\n          grouped[key],\n        ]);\n        for (let i = 0; i < result.length; i++) {\n          {\n            let array = result[i][1];\n            array.sort(function (a, b) {\n              return a.No - b.No;\n            });\n            let summ1 = 0;\n            let sumc1 = 0;\n            let sumc2 = 0;\n            let sumc3 = 0;\n            let sumc4 = 0;\n            let sumc5 = 0;\n            let sumc6 = 0;\n            let sumc7 = 0;\n            let sumc8 = 0;\n            let sumc9 = 0;\n            for (let j = 0; j < array.length; j++) {\n              summ1 = summ1 + array[j].M1;\n              sumc1 = sumc1 + array[j].C1;\n              sumc2 = sumc2 + array[j].C2;\n              sumc3 = sumc3 + array[j].C3;\n              sumc4 = sumc4 + array[j].C4;\n              sumc5 = sumc5 + array[j].C5;\n              sumc6 = sumc6 + array[j].C6;\n              sumc7 = sumc7 + array[j].C7;\n              sumc8 = sumc8 + array[j].C8;\n              sumc9 = sumc9 + array[j].C9;\n              array[0].avgm1 = Math.round((summ1 / array.length) * 100) / 100;\n              array[0].avgc1 = Math.round((sumc1 / array.length) * 100) / 100;\n              array[0].avgc2 = Math.round((sumc2 / array.length) * 100) / 100;\n              array[0].avgc3 = Math.round((sumc3 / array.length) * 100) / 100;\n              array[0].avgc4 = Math.round((sumc4 / array.length) * 100) / 100;\n              array[0].avgc5 = Math.round((sumc5 / array.length) * 100) / 100;\n              array[0].avgc6 = Math.round((sumc6 / array.length) * 100) / 100;\n              array[0].avgc7 = Math.round((sumc7 / array.length) * 100) / 100;\n              array[0].avgc8 = Math.round((sumc8 / array.length) * 100) / 100;\n              array[0].avgc9 = Math.round((sumc9 / array.length) * 100) / 100;\n            }\n            result[i][1] = array;\n          }\n        }\n        all.push(result);\n      }\n      setResall(all);\n      let shelst = new Array(...allpeopleres.data);\n      setshels(shelst);\n      if (!ready) setReady(true);\n    };\n    if (!ready) getMyPeople();\n  }, []);\n\n  let k;\n  if (resallo) if (resallo[0]) k = resallo[0];\n\n  let resi;\n  if (res && resall && resall.length > 0 && sdarot && k)\n    resi = res.map((screw, i) =>\n      sdarot.map(\n        (sidra, j) =>\n          resall[i] &&\n          resall[i].length &&\n          resall[i].map((data) => data[1][0].Emda === sidra && data[1][0].avgm1)\n      )\n    );\n\n  let rs1 = new Array();\n\n  let flagsarrayB = new Array();\n\n  if (resi)\n    for (let i = 0; i < resi.length; i++) {\n      let flagsarray = new Array();\n\n      for (let j = 0; j < resi[i].length; j++) {\n        let flag = false;\n        if (resi[i][j])\n          for (let k = 0; k < resi[i][j].length; k++)\n            if (resi[i][j][k]) flag = true;\n        flagsarray.push(flag);\n        if (!flag) resi[i][j] && resi[i][j].splice(j, 2);\n      }\n      flagsarrayB.push(flagsarray);\n    }\n\n  let mewresi = new Array();\n  if (resi)\n    for (let i = 0; i < resi.length; i++) {\n      let arrw = new Array();\n      for (let j = 0; j < resi[i].length; j++)\n        if (flagsarrayB[i][j]) arrw.push(resi[i][j]);\n      mewresi.push(arrw);\n    }\n\n  if (mewresi)\n    for (let i = 0; i < mewresi.length; i++) {\n      let newArray = new Array();\n      for (let j = 0; j < mewresi[i].length; j++)\n        for (let k = 0; k < mewresi[i][j].length; k++)\n          if (mewresi[i][j][k]) newArray.push(mewresi[i][j][k]);\n      rs1.push(newArray);\n    }\n\n  return ready ? (\n    k ? (\n      <div className=\"col\">\n        <br />\n        <br />{\" \"}\n        <CSVLink data={resexport}>\n          {\" \"}\n          ייצא את כל מופעי ההדרכה של האנשים שלי ⬇️\n        </CSVLink>{\" \"}\n        <br />\n        <br />\n        <br />\n        <div style={{ textAlign: \"center\", fontWeight: \"bold\" }}>\n          סינון לפי סדרה:\n        </div>{\" \"}\n        <br />\n        <div>\n          <MultiSelect\n            options={slist2}\n            value={selected}\n            onChange={setSelected}\n            labelledBy=\"Select\"\n          />\n        </div>\n        <br />\n        <div style={{}}>\n          <div style={{ display: \"inline-block\", width: \"30%\" }}>\n            <div style={{ textAlign: \"center\", fontWeight: \"bold\" }}>\n              סינון לפי קורס:\n            </div>{\" \"}\n            <br />\n            <div>\n              <MultiSelect\n                options={slistcourse}\n                value={selectedcourse}\n                onChange={setSelectedcourse}\n                labelledBy=\"Select\"\n              />\n            </div>\n          </div>\n          <div style={{ display: \"inline-block\", width: \"5%\" }}></div>\n\n          <div style={{ display: \"inline-block\", width: \"30%\" }}>\n            <div style={{ textAlign: \"center\", fontWeight: \"bold\" }}>\n              סינון לפי מסלול:\n            </div>{\" \"}\n            <br />\n            <div>\n              <MultiSelect\n                options={slistmaslool}\n                value={selectedmaslool}\n                onChange={setSelectedmaslool}\n                labelledBy=\"Select\"\n              />\n            </div>\n          </div>\n          <div style={{ display: \"inline-block\", width: \"5%\" }}></div>\n\n          <div style={{ display: \"inline-block\", width: \"30%\" }}>\n            <div style={{ textAlign: \"center\", fontWeight: \"bold\" }}>\n              סינון לפי יחידה:\n            </div>{\" \"}\n            <br />\n            <div>\n              <MultiSelect\n                options={slistunit}\n                value={selectedunit}\n                onChange={setSelectedunit}\n                labelledBy=\"Select\"\n              />\n            </div>\n          </div>\n        </div>\n        <br />\n        <br />\n        <br />\n        <Modal\n          isOpen={modalIsOpen}\n          onAfterOpen={afterOpenModal}\n          onRequestClose={closeModal}\n          style={customStyles}\n          contentLabel=\"Example Modal\"\n        >\n          <HisMOFAS shel={shelmi} h={shelmi2} />\n        </Modal>\n        <div className=\"mofastable\">\n          {\" \"}\n          <table>\n            <tbody>\n              <tr>\n                <th\n                  style={{\n                    border: \"1px solid gray\",\n                    padding: \"11px\",\n                    backgroundColor: \"unset\",\n                  }}\n                >\n                  רשימת האנשים שלי\n                </th>\n                {sdarot &&\n                  sdarot.length > 0 &&\n                  sdarot.map((sidra) => (\n                    <th\n                      style={{\n                        border: \"1px solid gray\",\n                        padding: \"11px\",\n                        backgroundColor: \"unset\",\n                        width: \"10000px\",\n                      }}\n                    >\n                      {sidra}\n                    </th>\n                  ))}\n              </tr>\n              {res.map((screw, i) => (\n                <tr>\n                  <td className=\"tdbutton\">\n                    <button\n                      className={\"OpinionOpen2\"}\n                      onClick={() => {\n                        openModal();\n                        setshelmi(screw.MA);\n                        setshelmi2(screw);\n                      }}\n                    >\n                      {screw.NickName}\n                    </button>\n                  </td>\n                  {sdarot &&\n                    sdarot.lengtn > 0 &&\n                    sdarot.map((sidra, j) => (\n                      <td\n                        onMouseOver={() => {\n                          setShow(\n                            [...Array(resall.length).keys()].map((x) =>\n                              x === j ? true : false\n                            )\n                          );\n                        }}\n                        onMouseLeave={() => {\n                          setShow(false);\n                        }}\n                        style={{\n                          border: \"1px solid gray\",\n                          padding: \"11px\",\n                          backgroundColor: \"unset\",\n                          textAlign: \"center\",\n                        }}\n                      >\n                        {resall[i].map((data) =>\n                          data[1][0].Emda === sidra ? (\n                            <span>{data[1][0].avgm1}</span>\n                          ) : (\n                            \"\"\n                          )\n                        )}\n                      </td>\n                    ))}\n                </tr>\n              ))}\n              {/*  <tr>\n              <th>ממוצע פשוט:</th>\n              { {sdarot.map((sidra, j) => (\n                <td\n                  onMouseOver={() => {\n                    setShow(\n                      [...Array(resall.length).keys()].map((x) =>\n                        x === j ? true : false\n                      )\n                    );\n                  }}\n                  onMouseLeave={() => {\n                    setShow(false);\n                  }}\n                  style={{\n                    border: \"1px solid gray\",\n                    padding: \"11px\",\n                    backgroundColor: \"unset\",\n                    textAlign: \"center\",\n                  }}\n                >\n                  \n                </td>\n              ))}}\n              {resi.map((avg) => (\n                <td\n                  style={{\n                    border: \"1px solid gray\",\n                    padding: \"11px\",\n                    backgroundColor: \"unset\",\n                    textAlign: \"center\",\n                  }}\n                >\n                  {avg}\n                </td>\n              ))}\n            </tr> */}\n              {/*  <tr>\n              <th>ממוצע מעמיק:</th>\n              <th>ממוצע...</th>\n            </tr> */}\n            </tbody>\n          </table>\n        </div>{\" \"}\n        <br />\n        <br />\n        <br />\n        <br />\n        <br />\n        <br />\n        <br />\n        <br />\n        <br />\n        <br />\n        <br />\n        <br />\n        <br />\n        <br />\n        <br />\n      </div>\n    ) : (\n      <h3>-אין לאנשיי מופעי הדרכה-</h3>\n    )\n  ) : (\n    <div>\n      טוען את כל האנשים שלך מהשרת... (אם אתה מספיק לקרוא את ההודעה הזאת אז ייתכן\n      שיש תקלה בשרת או בתקשורת איתו)\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}